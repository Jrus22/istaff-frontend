{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rocket\\\\Desktop\\\\istaff-backend\\\\istaff-frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport axios from 'axios';\nimport './App.css';\nimport Login from './components/Login';\nimport CreateAccount from './components/CreateAccount';\nimport NavBar from './components/NavBar';\nimport Form from './components/Form';\nimport Profile from './components/Profile';\nimport Home from './components/Home';\n\nclass App extends Component {\n  constructor() {\n    super(); //DEFAULT STATE OF loggedInStatus FOR USER IS \"NOT_LOGGED_IN\"\n\n    this.state = {\n      loggedInStatus: \"NOT_LOGGED_IN\",\n      user: {}\n    };\n    this.handleLogin = this.handleLogin.bind(this);\n  } //checkLoginStatus() IS CALLED IN componentDidMount() BELOW\n  //GETS LOGIN CREDENTIALS FROM MYSQL AND GIVES RESPONSE\n  //CHANGES STATE OF loggedInStatus TO \"LOGGED_IN\" WITH SUCCESSFUL LOGIN\n  //STATE OF loggedInStatus REMAINS \"NOT_LOGGED_IN\" IF UNSUCCESSFUL\n\n\n  checkLoginStatus() {\n    axios.get(\"http://localhost:3001/users/login\").then(response => {\n      if (response.data.logged_in && //IF logged_in IS TRUE\n      this.state.loggedInStatus === \"NOT_LOGGED_IN\") {\n        this.setState({\n          loggedInStatus: \"LOGGED_IN\",\n          //loggedInStatus CHANGES TO \"LOGGED_IN\" IF logged_in IS TRUE\n          user: response.data.user\n        });\n      } else if (!response.data.logged_in & //IF logged_in IS FALSE\n      this.state.loggedInStatus === \"LOGGED_IN\") {\n        this.setState({\n          loggedInStatus: \"NOT_LOGGED_IN\",\n          //loggedInStatus REMAINS \"NOT_LOGGED_IN\" IF logged_in IS FALSE\n          user: {}\n        });\n      }\n    }).catch(error => {\n      console.log(\"check login error\", error);\n    });\n  }\n\n  componentDidMount() {\n    this.checkLoginStatus();\n  } //UPDATES STATE OF loggedInStatus TO \"LOGGED_IN\" WITH SUCCESSFUL LOGIN\n\n\n  handleLogin(data) {\n    this.setState({\n      loggedInStatus: \"LOGGED_IN\",\n      user: data.user\n    });\n  } //COMPONENTS ARE ROUTED HERE\n  //ROUTES FOR HOME & PROFILE HAVE ALL PROPS AVAILABLE TO THEM\n\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props => React.createElement(Home, Object.assign({}, props, {\n        handleLogin: this.handleLogin,\n        loggedInStatus: this.state.loggedInStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profile\",\n      render: props => React.createElement(Profile, Object.assign({}, props, {\n        loggedInStatus: this.state.loggedInStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/createaccount\",\n      component: CreateAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/form\",\n      component: Form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Rocket/Desktop/istaff-backend/istaff-frontend/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","axios","Login","CreateAccount","NavBar","Form","Profile","Home","App","constructor","state","loggedInStatus","user","handleLogin","bind","checkLoginStatus","get","then","response","data","logged_in","setState","catch","error","console","log","componentDidMount","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nimport Login from './components/Login';\r\nimport CreateAccount from './components/CreateAccount';\r\nimport NavBar from './components/NavBar';\r\nimport Form from './components/Form';\r\nimport Profile from './components/Profile';\r\nimport Home from './components/Home';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    //DEFAULT STATE OF loggedInStatus FOR USER IS \"NOT_LOGGED_IN\"\r\n\r\n    this.state = {\r\n      loggedInStatus: \"NOT_LOGGED_IN\",\r\n      user: {}\r\n    };\r\n\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  //checkLoginStatus() IS CALLED IN componentDidMount() BELOW\r\n  //GETS LOGIN CREDENTIALS FROM MYSQL AND GIVES RESPONSE\r\n  //CHANGES STATE OF loggedInStatus TO \"LOGGED_IN\" WITH SUCCESSFUL LOGIN\r\n  //STATE OF loggedInStatus REMAINS \"NOT_LOGGED_IN\" IF UNSUCCESSFUL\r\n\r\n  checkLoginStatus() {\r\n    axios\r\n      .get(\"http://localhost:3001/users/login\")\r\n      .then(response => {\r\n        if (\r\n          response.data.logged_in && //IF logged_in IS TRUE\r\n          this.state.loggedInStatus === \"NOT_LOGGED_IN\"\r\n        ) {\r\n          this.setState({\r\n            loggedInStatus: \"LOGGED_IN\", //loggedInStatus CHANGES TO \"LOGGED_IN\" IF logged_in IS TRUE\r\n            user: response.data.user\r\n          });\r\n        } else if (\r\n          !response.data.logged_in & //IF logged_in IS FALSE\r\n          (this.state.loggedInStatus === \"LOGGED_IN\")\r\n        ) {\r\n          this.setState({\r\n            loggedInStatus: \"NOT_LOGGED_IN\", //loggedInStatus REMAINS \"NOT_LOGGED_IN\" IF logged_in IS FALSE\r\n            user: {}\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"check login error\", error);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.checkLoginStatus();\r\n  }\r\n\r\n  //UPDATES STATE OF loggedInStatus TO \"LOGGED_IN\" WITH SUCCESSFUL LOGIN\r\n\r\n  handleLogin(data) {\r\n    this.setState({\r\n      loggedInStatus: \"LOGGED_IN\",\r\n      user: data.user\r\n    });\r\n  }\r\n\r\n  //COMPONENTS ARE ROUTED HERE\r\n  //ROUTES FOR HOME & PROFILE HAVE ALL PROPS AVAILABLE TO THEM\r\n\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <div className=\"App\">\r\n          <NavBar />\r\n          <Route exact path=\"/\"\r\n            render={props => (\r\n              <Home\r\n                {...props}\r\n                handleLogin={this.handleLogin}\r\n                loggedInStatus={this.state.loggedInStatus}\r\n              />\r\n            )}\r\n          />\r\n          <Route exact path=\"/profile\"\r\n            render={props => (\r\n              <Profile\r\n                {...props}\r\n                loggedInStatus={this.state.loggedInStatus}\r\n              />\r\n            )}\r\n          />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/createaccount\" component={CreateAccount} />\r\n          <Route exact path=\"/form\" component={Form} />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}